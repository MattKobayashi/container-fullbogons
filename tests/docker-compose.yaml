---
services:
  fullbogons:
    build:
      context: ..
      dockerfile: Dockerfile
    environment:
      - "BIRD_ROUTER_ID=10.1.2.3"
      - "BIRD_ASN=64666"
      - "BIRD_PEERS=fake_host,10.3.2.1"
      - "BIRD_EXCLUDED_PREFIXES=10.0.0.0/8;172.16.0.0/12;192.168.0.0/16"
    networks:
      - fullbogons
    privileged: true
  test:
    command: /bin/bash -c "sleep 60 && apt-get update && apt-get --no-install-recommends --yes install netcat-openbsd && nc -zv fullbogons 179"
    depends_on:
      - fullbogons
    image: "debian:13.1-slim@sha256:c2880112cc5c61e1200c26f106e4123627b49726375eb5846313da9cca117337"
    networks:
      - fullbogons
networks:
  fullbogons:
